<!DOCTYPE html>
<html lang="es">
    <head>
        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRWR2T+Uyo/4CBwVHwa9p00aC3ezEobzGl+j62OlG" crossorigin="anonymous">

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Formulario de Servicios y Cuestionario</title>

        <!-- Estilos personalizados -->
        <style>
            body {
                font-family: 'Roboto', sans-serif;
            }
            h1 {
                font-weight: 700;
            }
            label {
                font-weight: 500;
            }
            input, select {
                font-size: 16px;
            }
            .form-group {
                  margin-bottom: 2rem; /* Ajustar separación entre campos */
            }
        </style>
    </head>
    <body class="bg-light">
        <div class="container mt-5">
            <!-- Selector de idioma -->
            <div class="text-end mb-4">
                <label for="language-selector" class="me-2">Idioma:</label>
                <select id="language-selector" class="form-select d-inline w-auto" onchange="changeLanguage()">
                    <option value="es" selected>Español</option>
                    <option value="en">English</option>
                </select>
            </div>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Servicios y Cuestionario</title>
    <script>
            // Función para verificar las restricciones basadas en el nivel de cuestionario
        function verificarRestricciones() {
        const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();
        const idiomaSeleccionado = document.getElementById("language-selector").value;

        // Elementos relacionados
        const completoCheckbox = document.getElementById("modelo_completo");
        const reducidoCheckbox = document.getElementById("modelo_reducido_enriquecido");
        const operacionalConDoc = document.getElementById("operacional_con_documento");
        const esgCompletoCheckbox = document.getElementById("esg_completo");
        const esgIntermedioCheckbox = document.getElementById("esg_intermedio");
        const esgBasicoCheckbox = document.getElementById("esg_basico");
        const ciberCompletoCheckbox = document.getElementById("ciber_completo");
        const ciberBasicoCheckbox = document.getElementById("ciber_basico");
        const obligacionesTribCheckbox = document.getElementById("obligaciones_documento");
        const datosBancariosDocCheckbox = document.getElementById("bancarios_documento");
        const polizaSeguroDocCheckbox = document.getElementById("poliza_documento");
        }
    </script>
    </head>



<script>
function changeLanguage() {
    const selectedLanguage = document.getElementById("language-selector").value;

    // Cambiar textos dinámicamente
    document.querySelectorAll("[data-lang-es]").forEach(element => {
        const text = element.getAttribute(`data-lang-${selectedLanguage}`);
        if (text) {
            element.textContent = text; // Cambiar el contenido de texto
        }
    });

    // Actualizar textos en el resumen si ya está visible
    if (document.getElementById("resumen").style.display === "block") {
        mostrarResumen(); // Volver a mostrar el resumen con el idioma actualizado
    }
}

</script>

</body>
<body class="bg-light">
    <div class="container mt-5">
        <h1 class="text-center mb-4" 
            data-lang-es="Formulario para la generación del cuestionario" 
            data-lang-en="Form for Questionnaire Generation">
            Formulario para la generación del cuestionario
        </h1>
        <h3 class="text-center mb-5" 
            data-lang-es="Seleccione los riesgos contratados en la cadena de suministro" 
            data-lang-en="Select the contracted risks within the supply chain">
            Seleccione los riesgos contratados en la cadena de suministro
        </h3>
    </div>
</body>


        <!-- Formulario -->


        <form id="formulario" action="/submit" method="POST" class="p-4 border rounded bg-white shadow-sm">
            <!-- Nombre del Cliente -->
            <div class="form-group">
                <label for="nombre_cliente" class="form-label" data-lang-es="Nombre del Cliente:" data-lang-en="Client Name:">Nombre del Cliente:</label>
                <input type="text" id="nombre_cliente" name="nombre_cliente" class="form-control" placeholder="Ingrese el nombre del cliente" data-lang-placeholder-es="Ingrese el nombre del cliente" data-lang-placeholder-en="Enter client name" required>
            </div>
        
            <!-- Liderado por -->
            <div class="form-group">
                <label for="liderado_por" class="form-label" data-lang-es="Liderado por:" data-lang-en="Led by:">Liderado por:</label>
                <input type="text" id="liderado_por" name="liderado_por" class="form-control" placeholder="Ingrese el nombre del líder" data-lang-placeholder-es="Ingrese el nombre del líder" data-lang-placeholder-en="Enter leader's name" required>
            </div>
        
            <!-- Nivel de Cuestionario -->
            <div class="form-group">
                <label for="nivel_cuestionario" class="form-label" data-lang-es="Nivel de Cuestionario:" data-lang-en="Questionnaire Level:">Nivel de Cuestionario:</label>
                <select id="nivel_cuestionario" name="nivel_cuestionario" class="form-select" onchange="verificarRestricciones()">
                    <option value="360">360</option>
                    <option value="180">180</option>
                    <option value="basic">Basic</option>
                    <option value="elementary">Elementary</option>
                    <option value="digital">Digital</option>
                </select>
            </div>
        

     </body>

        <!-- Score Financiero -->
        <fieldset>
            <legend data-lang-es="Score Financiero" data-lang-en="Financial Score">Score Financiero</legend>
            
            <label 
            data-lang-title-es="Incluye hasta 25 datos financieros clave, como balance, activos, pasivos, y resultados operativos y anuales, respaldados por documentación confiable de terceras fuentes (stakeholders asociados a GoSupply) y/o del proveedor. Además, calcula hasta 20 ratios financieros, scores y alertas, integrando información de la plataforma y fuentes externas para ofrecer una evaluación completa y detallada que respalda decisiones estratégicas"
            data-lang-title-en="Includes up to 25 key financial data points, such as balance sheet, assets, liabilities, and operational and annual results, backed by reliable documentation from third-party sources (stakeholders associated with GoSupply) and/or the supplier. Additionally, it calculates up to 20 financial ratios, scores, and alerts, integrating data from the platform and external sources to provide a comprehensive and detailed evaluation that supports strategic decision-making.">
                <input type="checkbox" id="modelo_completo" name="servicios" value="Modelo Completo Enriquecido (Con Documento)" 
                    onclick="deseleccionarOtros('modelo_completo')" 
                    data-lang-es="Modelo Completo Enriquecido (Con Documento)" 
                    data-lang-en="Complete Enriched Model (With Document)">
                <span data-lang-es="Modelo Completo Enriquecido (Con Documento)" 
                      data-lang-en="Complete Enriched Model (With Document)">
                      Modelo Completo Enriquecido (Con Documento)</span>
            </label><br>
            
            
            <label 
            data-lang-title-es="Proporciona 9 datos financieros clave, como facturación anual, beneficio neto, activos totales y pasivos corrientes, respaldados por documentación confiable de terceras fuentes (stakeholders asociados a GoSupply). También incluye el cálculo de hasta 8 ratios financieros y alertas clave, ofreciendo un análisis compacto y preciso para decisiones rápidas y efectivas."
            data-lang-title-en="Provides 9 key financial data points, such as annual revenue, net profit, total assets, and current liabilities, backed by reliable documentation from third-party sources (stakeholders associated with GoSupply). It also includes the calculation of up to 8 financial ratios and key alerts, offering a compact and accurate analysis for quick and effective decision-making.">
                <input type="checkbox" id="modelo_reducido_enriquecido" name="servicios" value="Modelo Reducido Enriquecido (Con documento)" 
                    onclick="deseleccionarOtros('modelo_reducido_enriquecido')" 
                    data-lang-es="Modelo Reducido Enriquecido (Con Documento)" 
                    data-lang-en="Reduced Enriched Model (With Document)">
                <span data-lang-es="Modelo Reducido Enriquecido (Con Documento)" 
                      data-lang-en="Reduced Enriched Model (With Document)">
                      Modelo Reducido Enriquecido (Con Documento)</span>
            </label><br>
            
            <label 
            data-lang-title-es="Proporciona 9 datos financieros clave, como facturación anual, beneficio neto, activos totales y pasivos corrientes, suministrados directamente por el proveedor y sin respaldo documental. Con esta información, se calculan hasta 8 ratios financieros, scores y alertas, ofreciendo un análisis funcional basado en los datos disponibles."
            data-lang-title-en="Provides 9 key financial data points, such as annual revenue, net profit, total assets, and current liabilities, supplied directly by the provider without supporting documentation. Based on this information, up to 8 financial ratios, scores, and alerts are calculated, offering a practical analysis derived from the available data.">
                <input type="checkbox" id="modelo_reducido_sin_doc" name="servicios" value="Modelo Reducido No Enriquecido (Sin Documento)" 
                    onclick="deseleccionarOtros('modelo_reducido_sin_doc')" 
                    data-lang-es="Modelo Reducido No Enriquecido (Sin Documento)" 
                    data-lang-en="Reduced Non-Enriched Model (Without Document)">
                <span data-lang-es="Modelo Reducido No Enriquecido (Sin Documento)" 
                      data-lang-en="Reduced Non-Enriched Model (Without Document)">
                      Modelo Reducido No Enriquecido (Sin Documento)</span>
            </label><br>
            
            
            <label 
            data-lang-title-es="Proporciona 4 datos básicos: fecha de cierre financiero, número de empleados, moneda y facturación anual. Estos datos se entregan sin respaldo documental y no incluyen el cálculo de ratios ni scores."
            data-lang-title-en="Provides 4 basic data points: financial year-end date, number of employees, currency, and annual revenue. These data are supplied without supporting documentation and do not include the calculation of ratios or scores.">
                <input type="checkbox" id="modelo_minimo_no_enriquecido" name="servicios" value="Modelo Mínimo No Enriquecido (Sin documento)" 
                    onclick="deseleccionarOtros('modelo_minimo_no_enriquecido')" 
                    data-lang-es="Modelo Mínimo No Enriquecido (Sin Documento)" 
                    data-lang-en="Minimum Non-Enriched Model (Without Document)">
                <span data-lang-es="Modelo Mínimo No Enriquecido (Sin Documento)" 
                      data-lang-en="Minimum Non-Enriched Model (Without Document)">
                      Modelo Mínimo No Enriquecido (Sin Documento)</span>
            </label><br>
        </fieldset>
        

        <script>
            function verificarRestriccionesFinanciero() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();
                const idiomaSeleccionado = document.getElementById("language-selector").value;
        
                // Referencias a los elementos
                const modeloCompleto = document.getElementById("modelo_completo");
                const modeloReducidoEnriquecido = document.getElementById("modelo_reducido_enriquecido");
                const modeloReducidoSinDoc = document.getElementById("modelo_reducido_sin_doc");
                const modeloMinimoNoEnriquecido = document.getElementById("modelo_minimo_no_enriquecido");
        
                // Restricciones para Basic y Elementary
                if (nivel === "basic" || nivel === "elementary") {
                    modeloCompleto.checked = false;
                    modeloReducidoEnriquecido.checked = false;
        
                    modeloCompleto.disabled = true;
                    modeloReducidoEnriquecido.disabled = true;
        
                    // Mensaje dinámico según idioma seleccionado
                    const alertMessage =
                        idiomaSeleccionado === "es"
                            ? "Los modelos completos y reducidos enriquecidos no están disponibles para los niveles Basic o Elementary."
                            : "Complete and Reduced Enriched Models are not available for Basic or Elementary levels.";
                    alert(alertMessage);
                } else {
                    modeloCompleto.disabled = false;
                    modeloReducidoEnriquecido.disabled = false;
                }
        
                // Restricciones para Digital
                if (nivel === "digital") {
                    modeloReducidoSinDoc.checked = false;
                    modeloMinimoNoEnriquecido.checked = false;
        
                    modeloReducidoSinDoc.disabled = true;
                    modeloMinimoNoEnriquecido.disabled = true;
        
                    // Mensaje dinámico según idioma seleccionado
                    const alertMessage =
                        idiomaSeleccionado === "es"
                            ? "Los modelos Reducido No Enriquecido y Mínimo No Enriquecido no están disponibles para el nivel Digital."
                            : "Reduced Non-Enriched and Minimum Non-Enriched Models are not available for the Digital level.";
                    alert(alertMessage);
                } else {
                    modeloReducidoSinDoc.disabled = false;
                    modeloMinimoNoEnriquecido.disabled = false;
                }
            }
        
            function deseleccionarOtros(seleccionadoId) {
                // Lista de todos los checkboxes en el grupo Score Financiero
                const ids = [
                    "modelo_completo",
                    "modelo_reducido_enriquecido",
                    "modelo_reducido_sin_doc",
                    "modelo_minimo_no_enriquecido"
                ];
        
                // Recorre la lista de IDs y desmarca todos excepto el seleccionado
                ids.forEach(id => {
                    if (id !== seleccionadoId) {
                        document.getElementById(id).checked = false; // Desmarcar
                    }
                });
            }
        
            // Escuchar cambios en el selector de nivel
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesFinanciero);
        </script>
        


        <!-- Información Financiera adicional -->
        <fieldset>
            <legend data-lang-es="Información Financiera adicional" data-lang-en="Additional Financial Information">Información Financiera adicional</legend>
            
            <label 
            data-lang-title-es="Incluye la información bancaria principal de la organización, como el número de cuenta, el código SWIFT/BIC y otros identificadores relevantes, acompañada de un documento oficial emitido por el banco que certifica la veracidad de los datos."
            data-lang-title-en="Includes the organization's primary banking information, such as account number, SWIFT/BIC code, and other relevant identifiers, accompanied by an official document issued by the bank certifying the accuracy of the information.">

                <input type="checkbox" id="bancarios_documento" name="servicios" value="Datos bancarios con documento" 
                    onclick="controlarSeleccion('bancarios')" 
                    data-lang-es="Datos bancarios con documento" 
                    data-lang-en="Bank data with document">
                <span data-lang-es="Datos bancarios con documento" 
                      data-lang-en="Bank data with document">
                      Datos bancarios con documento</span>
            </label><br>
            
            <label 
            data-lang-title-es="Información bancaria principal, incluyendo el número de cuenta, el código SWIFT/BIC y otros identificadores relevantes. Esta información se solicita directamente al proveedor, sin requerir la presentación de un documento oficial que la respalde."
            data-lang-title-en="Primary banking information, including the account number, SWIFT/BIC code, and other relevant identifiers. This information is requested directly from the supplier without requiring the submission of an official document to verify it.">

                <input type="checkbox" id="bancarios_sin_documento" name="servicios" value="Datos bancarios sin documento" 
                    onclick="controlarSeleccion('bancarios')" 
                    data-lang-es="Datos bancarios sin documento" 
                    data-lang-en="Bank data without document">
                <span data-lang-es="Datos bancarios sin documento" 
                      data-lang-en="Bank data without document">
                      Datos bancarios sin documento</span>
            </label><br>
            
            <label 
            data-lang-title-es="Información sobre las pólizas de seguro de la organización, incluyendo detalles como el tipo de seguro, los límites de cobertura y las fechas de vigencia. Es necesario adjuntar una copia de la póliza, junto con un recibo correspondiente o una declaración oficial emitida por la aseguradora que especifique el período de vigencia y el número de póliza."
            data-lang-title-en="Information about the organization's insurance policies, including details such as the type of insurance, coverage limits, and validity dates. A copy of the policy must be attached, along with a corresponding receipt or an official statement issued by the insurer specifying the policy number and validity period.">

                <input type="checkbox" id="poliza_documento" name="servicios" value="Poliza de seguro con documento" 
                    onclick="controlarSeleccion('poliza')" 
                    data-lang-es="Póliza de seguro con documento" 
                    data-lang-en="Insurance policy with document">
                <span data-lang-es="Póliza de seguro con documento" 
                      data-lang-en="Insurance policy with document">
                      Póliza de seguro con documento</span>
            </label><br>
            
            <label 
            data-lang-title-es="Solicitamos a los proveedores información básica sobre las pólizas de seguro de su organización, incluyendo detalles como el tipo de seguro, los límites de cobertura y las fechas de vigencia, sin requerir la presentación de documentos respaldatorios de la información proporcionada."
            data-lang-title-en="We request basic information from suppliers about their organization's insurance policies, including details such as the type of insurance, coverage limits, and validity dates, without requiring the submission of supporting documents for the information provided.">
    
                <input type="checkbox" id="poliza_sin_documento" name="servicios" value="Poliza de seguro sin documento" 
                    onclick="controlarSeleccion('poliza')" 
                    data-lang-es="Póliza de seguro sin documento" 
                    data-lang-en="Insurance policy without document">
                <span data-lang-es="Póliza de seguro sin documento" 
                      data-lang-en="Insurance policy without document">
                      Póliza de seguro sin documento</span>
            </label><br>
        </fieldset><br>
        
        <script>
            // Función para controlar exclusión mutua y restricciones según nivel
            function controlarSeleccion(grupo) {
                let conDocumentoId, sinDocumentoId;
        
                // Identificar el grupo seleccionado
                if (grupo === "bancarios") {
                    conDocumentoId = "bancarios_documento";
                    sinDocumentoId = "bancarios_sin_documento";
                } else if (grupo === "poliza") {
                    conDocumentoId = "poliza_documento";
                    sinDocumentoId = "poliza_sin_documento";
                }
        
                // Obtener referencias a los checkboxes
                const conDocumentoCheckbox = document.getElementById(conDocumentoId);
                const sinDocumentoCheckbox = document.getElementById(sinDocumentoId);
        
                // Lógica de exclusión mutua
                if (conDocumentoCheckbox.checked) {
                    sinDocumentoCheckbox.checked = false; // Desmarcar "sin documento" si "con documento" está seleccionado
                }
                if (sinDocumentoCheckbox.checked) {
                    conDocumentoCheckbox.checked = false; // Desmarcar "con documento" si "sin documento" está seleccionado
                }
            }
        
            // Función para aplicar restricciones según el nivel
            function verificarRestriccionesFinancieras() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();
                const idiomaSeleccionado = document.getElementById("language-selector").value;
        
                // Referencias a los checkboxes
                const bancariosConDoc = document.getElementById("bancarios_documento");
                const polizaConDoc = document.getElementById("poliza_documento");
                const bancariosSinDoc = document.getElementById("bancarios_sin_documento");
                const polizaSinDoc = document.getElementById("poliza_sin_documento");
        
                // Restricciones para niveles Basic, Elementary y Digital
                if (nivel === "basic" || nivel === "elementary" || nivel === "digital") {
                    bancariosConDoc.checked = false;
                    polizaConDoc.checked = false;
                    bancariosSinDoc.checked = false;
                    polizaSinDoc.checked = false;
        
                    bancariosConDoc.disabled = true;
                    polizaConDoc.disabled = true;
                    bancariosSinDoc.disabled = true;
                    polizaSinDoc.disabled = true;
        
                    // Mensaje dinámico según idioma seleccionado
                    const alertMessage =
                        idiomaSeleccionado === "es"
                            ? "Los servicios con y sin documento no están permitidos para los niveles Basic, Elementary o Digital."
                            : "Services with and without documents are not allowed for Basic, Elementary, or Digital levels.";
                    alert(alertMessage);
                } else {
                    // Habilitar las opciones para otros niveles
                    bancariosConDoc.disabled = false;
                    polizaConDoc.disabled = false;
                    bancariosSinDoc.disabled = false;
                    polizaSinDoc.disabled = false;
                }
            }
        
            // Escuchar cambios en el selector de nivel
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesFinancieras);
        </script>
        


        <!-- Score Operacional -->
            <fieldset>
                <legend data-lang-es="Score Operacional" data-lang-en="Operational Score">Score Operacional</legend>
            
                <label 
                data-lang-title-es="Incluye información clave sobre los sistemas de gestión de calidad y riesgos laborales de la organización, como certificaciones ISO 9001 e ISO 45001, políticas y procedimientos. Se requiere documentación oficial que respalde las respuestas proporcionadas. Esta información permite calcular un puntaje (score) que evalúa de forma precisa el nivel de cumplimiento operacional, ayudando a identificar áreas de mejora y reforzando la confianza en la operación del cliente."
                data-lang-title-en="Includes key information about the organization's quality management and occupational risk systems, such as ISO 9001 and ISO 45001 certifications, policies, and procedures. Official documentation is required to support the provided responses. This information enables the calculation of a score that accurately evaluates the level of operational compliance, helping identify improvement areas and strengthening confidence in the client's operations.">    
                    <input type="checkbox" id="operacional_con_documento" name="servicios" value="Operacional con documento" 
                        data-lang-es="Operacional con documento" 
                        data-lang-en="Operational with document" 
                        onchange="verificarRestriccionesOperacional()">
                    <span data-lang-es="Operacional con documento" 
                        data-lang-en="Operational with document">
                        Operacional con documento</span>
                </label><br>

                <label 
                data-lang-title-es="Incluye información sobre los sistemas de gestión de calidad y riesgos laborales de la organización, como certificaciones ISO 9001 e ISO 45001, políticas y procedimientos. Esta información se utiliza para calcular un puntaje (score) que refleja el nivel de cumplimiento operacional, sin requerir la presentación de documentos oficiales como evidencia."
                data-lang-title-en="Includes information about the organization's quality management and occupational risk systems, such as ISO 9001 and ISO 45001 certifications, policies, and procedures. This information is used to calculate a score that reflects the level of operational compliance, without requiring the submission of official documents as evidence.">
    
                    <input type="checkbox" id="operacional_sin_documento" name="servicios" value="Operacional sin documento" 
                        data-lang-es="Operacional sin documento" 
                        data-lang-en="Operational without document" 
                        onchange="verificarRestriccionesOperacional()">
                    <span data-lang-es="Operacional sin documento" 
                        data-lang-en="Operational without document">
                        Operacional sin documento</span>
                </label><br>
            </fieldset><br>
        
        <!-- Sección Operacional adicional -->
            <fieldset>
                <legend data-lang-es="Sección Operacional adicional" data-lang-en="Additional Operational Section">
                    Sección Operacional adicional
                </legend>

                <label 
                data-lang-title-es="Se recopilan datos clave sobre accidentes laborales, incluyendo horas trabajadas, número de accidentes, días de ausencia, y cálculos de ratios de gravedad y frecuencia, tanto para trabajadores propios como subcontratados."
                data-lang-title-en="Key data on workplace accidents is collected, including hours worked, number of accidents, days of absence, and calculations of severity and frequency rates, for both direct employees and subcontractors.">
                    <input type="checkbox" id="accidentabilidad" name="servicios" value="Accidentabilidad" disabled 
                        data-lang-es="Accidentabilidad" 
                        data-lang-en="Accidentality">
                    <span data-lang-es="Accidentabilidad" data-lang-en="Accidentality">Accidentabilidad</span>
                </label><br>
            </fieldset><br>

        <script>
            function verificarRestriccionesOperacional() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();
                const idiomaSeleccionado = document.getElementById("language-selector").value;
        
                // Referencias a los elementos
                const operacionalConDoc = document.getElementById("operacional_con_documento");
                const operacionalSinDoc = document.getElementById("operacional_sin_documento");
                const accidentabilidad = document.getElementById("accidentabilidad");
        
                // Restricciones para los niveles Basic, Elementary y Digital
                if (["basic", "elementary", "digital"].includes(nivel)) {
                    operacionalConDoc.checked = false;
                    operacionalSinDoc.checked = false;
                    accidentabilidad.checked = false;
        
                    operacionalConDoc.disabled = true;
                    operacionalSinDoc.disabled = true;
                    accidentabilidad.disabled = true;
        
                    // Mensaje dinámico según el idioma seleccionado
                    const alertMessage =
                        idiomaSeleccionado === "es"
                            ? "Operacional con documento, sin documento y Accidentabilidad no están permitidos para los niveles Basic, Elementary o Digital."
                            : "Operational with document, without document, and Accidentability are not allowed for Basic, Elementary, or Digital levels.";
                    alert(alertMessage);
                } else {
                    // Habilitar los elementos para otros niveles
                    operacionalConDoc.disabled = false;
                    operacionalSinDoc.disabled = false;
        
                    // Habilitar Accidentabilidad solo si "Operacional con documento" está seleccionado
                    if (operacionalConDoc.checked) {
                        accidentabilidad.disabled = false;
                    } else {
                        accidentabilidad.checked = false; // Desmarcar si se deshabilita
                        accidentabilidad.disabled = true;
                    }
                }
        
                // Exclusión mutua entre "Operacional con documento" y "Operacional sin documento"
                if (operacionalConDoc.checked) {
                    operacionalSinDoc.checked = false; // Desmarcar "sin documento"
                    operacionalSinDoc.disabled = true;
                } else if (operacionalSinDoc.checked) {
                    operacionalConDoc.checked = false; // Desmarcar "con documento"
                }
            }
        
            // Escuchar cambios en el selector de nivel y checkboxes
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesOperacional);
            document.getElementById("operacional_con_documento").addEventListener("change", verificarRestriccionesOperacional);
            document.getElementById("operacional_sin_documento").addEventListener("change", verificarRestriccionesOperacional);
        </script>
            
        <!-- Sección ESG -->
        <fieldset>
            <legend data-lang-es="Riesgo ESG" data-lang-en="ESG Risk">Riesgo ESG</legend>

            <!-- Checkbox ESG Completo -->
            <label 
            data-lang-title-es="120 PREGUNTAS MÁXIMO (Cubre todos los ESRS) + 14 DOCS"
            data-lang-title-en="Maximum 120 questions (Covers all ESRS) + 14 documents">
    
                <input type="checkbox" id="esg_completo" name="servicios" value="ESG Completo" 
                    data-lang-es="ESG Completo" 
                    data-lang-en="ESG Complete" 
                    onchange="verificarSeleccionESG()">
                <span data-lang-es="ESG Completo" data-lang-en="ESG Complete">ESG Completo</span>
            </label><br>

            <!-- Checkbox ESG Intermedio -->
            <label 
            data-lang-title-es="83 PREGUNTAS MÁXIMO (Cubre todos los ESRS) + 2 DOCS"
            data-lang-title-en="Maximum 83 questions (Covers all ESRS) + 2 documents">
                <input type="checkbox" id="esg_intermedio" name="servicios" value="ESG Intermedio" 
                    data-lang-es="ESG Intermedio" 
                    data-lang-en="ESG Intermediate" 
                    onchange="verificarSeleccionESG()">
                <span data-lang-es="ESG Intermedio" data-lang-en="ESG Intermediate">ESG Intermedio</span>
            </label><br>

            <!-- Checkbox ESG Básico -->
            <label 
            data-lang-title-es="44 PREGUNTAS MÁXIMO (Cubre todos los ESRS)"
            data-lang-title-en="Maximum 44 questions (Covers all ESRS)">
    
                <input type="checkbox" id="esg_basico" name="servicios" value="ESG Basico" 
                    data-lang-es="ESG Basico" 
                    data-lang-en="ESG Basic" 
                    onchange="verificarSeleccionESG()">
                <span data-lang-es="ESG Basico" data-lang-en="ESG Basic">ESG Basico</span>
            </label><br>

            <!-- Checkbox ESG Transversal -->
            <label>
                <input type="checkbox" id="esg_transversal" value="ESG Transversal" 
                    data-lang-es="ESG Transversal" 
                    data-lang-en="ESG Transversal" disabled>
                <span data-lang-es="ESG Transversal" data-lang-en="ESG Transversal">ESG Transversal</span>
            </label>
            <input type="hidden" name="servicios" value="ESG Transversal" id="hidden_esg_transversal" disabled><br>

            <!-- Checkbox ESG Predictivo -->
            <label>
                <input type="checkbox" id="esg_predictivo" value="ESG Predictivo" 
                    data-lang-es="ESG Predictivo" 
                    data-lang-en="ESG Predictive" disabled>
                <span data-lang-es="ESG Predictivo" data-lang-en="ESG Predictive">ESG Predictivo</span>
            </label>
            <input type="hidden" name="servicios" value="ESG Predictivo" id="hidden_esg_predictivo" disabled><br>

        </fieldset>

        <script>
            function verificarSeleccionESG() {
                const esgCompleto = document.getElementById("esg_completo").checked;
                const esgIntermedio = document.getElementById("esg_intermedio").checked;
                const esgBasico = document.getElementById("esg_basico").checked;

                // Referencias a ESG Transversal y Predictivo
                const esgTransversal = document.getElementById("esg_transversal");
                const hiddenTransversal = document.getElementById("hidden_esg_transversal");
                const esgPredictivo = document.getElementById("esg_predictivo");
                const hiddenPredictivo = document.getElementById("hidden_esg_predictivo");

                // Activar ESG Transversal y Predictivo si alguno de los ESG está seleccionado
                if (esgCompleto || esgIntermedio || esgBasico) {
                    esgTransversal.disabled = false;
                    esgTransversal.checked = true;
                    hiddenTransversal.disabled = false;

                    esgPredictivo.disabled = false;
                    esgPredictivo.checked = true;
                    hiddenPredictivo.disabled = false;
                } else {
                    esgTransversal.disabled = true;
                    esgTransversal.checked = false;
                    hiddenTransversal.disabled = true;

                    esgPredictivo.disabled = true;
                    esgPredictivo.checked = false;
                    hiddenPredictivo.disabled = true;
                }
            }

            // Prevenir que ESG Transversal y Predictivo puedan ser desmarcados manualmente
            document.getElementById("esg_transversal").addEventListener("click", function (e) {
                e.preventDefault(); // Bloquea la acción de desmarcar
            });

            document.getElementById("esg_predictivo").addEventListener("click", function (e) {
                e.preventDefault(); // Bloquea la acción de desmarcar
            });

            function verificarRestriccionesESG() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();

                // Referencias a los elementos ESG
                const esgCompleto = document.getElementById("esg_completo");
                const esgIntermedio = document.getElementById("esg_intermedio");
                const esgBasico = document.getElementById("esg_basico");

                // Restablecer: deshabilitar y desmarcar todos los checkboxes
                [esgCompleto, esgIntermedio, esgBasico].forEach(checkbox => {
                    checkbox.checked = false;
                    checkbox.disabled = true;
                });

                // Aplicar criterios según el nivel
                if (nivel === "360") {
                    esgCompleto.disabled = false; // Habilitar ESG Completo
                } else if (nivel === "180") {
                    esgIntermedio.disabled = false; // Habilitar ESG Intermedio
                } else if (nivel === "basic") {
                    esgBasico.disabled = false; // Habilitar ESG Básico
                }

                verificarSeleccionESG(); // Garantizar la lógica de Transversal y Predictivo
            }

            // Escuchar cambios en el selector de nivel
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesESG);

            // Ejecutar al cargar la página
            window.addEventListener("DOMContentLoaded", verificarRestriccionesESG);



        </script>

        <!-- Riesgo Ciberseguridad -->
            
        <fieldset>
            <legend data-lang-es="Riesgo Ciberseguridad" data-lang-en="Cybersecurity Risk">Riesgo Ciberseguridad</legend>
        
            <label>
                <input type="checkbox" id="ciber_completo" name="servicios" value="Ciberseguridad Completo" 
                    onclick="exclusivoCiberseguridad('ciber_completo')" 
                    data-lang-es="Ciberseguridad Completo" 
                    data-lang-en="Cybersecurity Complete">
                <span data-lang-es="Ciberseguridad Completo" data-lang-en="Cybersecurity Complete">Ciberseguridad Completo</span>
            </label><br>
        
            <label>
                <input type="checkbox" id="ciber_basico" name="servicios" value="Ciberseguridad Basico" 
                    onclick="exclusivoCiberseguridad('ciber_basico')" 
                    data-lang-es="Ciberseguridad Basico" 
                    data-lang-en="Cybersecurity Basic">
                <span data-lang-es="Ciberseguridad Basico" data-lang-en="Cybersecurity Basic">Ciberseguridad Basico</span>
            </label><br>
        </fieldset><br>
        
        <script>
            function verificarRestriccionesCiberseguridad() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();
                const idiomaSeleccionado = document.getElementById("language-selector").value;
        
                // Referencias a los checkboxes de Ciberseguridad
                const ciberCompleto = document.getElementById("ciber_completo");
                const ciberBasico = document.getElementById("ciber_basico");
        
                // Restricciones de nivel para Basic, Elementary y Digital
                if (["basic", "elementary", "digital"].includes(nivel)) {
                    ciberCompleto.checked = false;
                    ciberBasico.checked = false;
        
                    ciberCompleto.disabled = true;
                    ciberBasico.disabled = true;
        
                    // Mostrar mensaje dinámico según idioma seleccionado
                    const alertMessage =
                        idiomaSeleccionado === "es"
                            ? "Ciberseguridad Completo y Básico no están permitidos para los niveles Basic, Elementary o Digital."
                            : "Cybersecurity Complete and Basic are not allowed for Basic, Elementary, or Digital levels.";
                    alert(alertMessage);
                } else {
                    ciberCompleto.disabled = false;
                    ciberBasico.disabled = false;
                }
            }
        
            function exclusivoCiberseguridad(seleccionadoId) {
                // Lista de todos los IDs del grupo Riesgo Ciberseguridad
                const ids = ["ciber_completo", "ciber_basico"];
        
                // Desmarcar todos los checkboxes excepto el seleccionado
                ids.forEach(id => {
                    if (id !== seleccionadoId) {
                        document.getElementById(id).checked = false; // Desmarcar
                    }
                });
            }
        
            // Escuchar cambios en el selector de nivel
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesCiberseguridad);
        </script>
        

        <!-- Riesgo Compliance -->
        <fieldset>
            <legend data-lang-es="Riesgo Compliance" data-lang-en="Compliance Risk">Riesgo Compliance</legend>
        
            <label>
                <input type="checkbox" id="compliance_onlycompany" name="servicios" value="Onlycompany" 
                    onclick="exclusivoCompliance('compliance_onlycompany')" 
                    data-lang-es="Onlycompany" 
                    data-lang-en="Onlycompany">
                <span data-lang-es="Onlycompany" data-lang-en="Onlycompany">Onlycompany</span>
            </label><br>
        
            <label>
                <input type="checkbox" id="compliance_onlycompany_politicas" name="servicios" value="Onlycompany + Politicas" 
                    onclick="exclusivoCompliance('compliance_onlycompany_politicas')" 
                    data-lang-es="Onlycompany + Políticas" 
                    data-lang-en="Onlycompany + Policies">
                <span data-lang-es="Onlycompany + Políticas" data-lang-en="Onlycompany + Policies">Onlycompany + Políticas</span>
            </label><br>
        
            <label>
                <input type="checkbox" id="compliance_stakeholders" name="servicios" value="Stakeholders" 
                    onclick="exclusivoCompliance('compliance_stakeholders')" 
                    data-lang-es="Stakeholders" 
                    data-lang-en="Stakeholders">
                <span data-lang-es="Stakeholders" data-lang-en="Stakeholders">Stakeholders</span>
            </label><br>
        
            <label>
                <input type="checkbox" id="compliance_stakeholders_politicas" name="servicios" value="Stakeholders + Politicas" 
                    onclick="exclusivoCompliance('compliance_stakeholders_politicas')" 
                    data-lang-es="Stakeholders + Políticas" 
                    data-lang-en="Stakeholders + Policies">
                <span data-lang-es="Stakeholders + Políticas" data-lang-en="Stakeholders + Policies">Stakeholders + Políticas</span>
            </label><br>
        
            <label>
                <input type="checkbox" id="compliance_stakeholders_peps_y_sips" name="servicios" value="Stakeholders + Peps y Sips" 
                    onclick="exclusivoCompliance('compliance_stakeholders_peps_y_sips')" 
                    data-lang-es="Stakeholders + Peps y Sips" 
                    data-lang-en="Stakeholders + Peps and Sips">
                <span data-lang-es="Stakeholders + Peps y Sips" data-lang-en="Stakeholders + Peps and Sips">Stakeholders + Peps y Sips</span>
            </label><br>
        
            <label>
                <input type="checkbox" id="compliance_stakeholders_politicas_peps_sips" name="servicios" value="Stakeholders + Politicas + Peps y Sips" 
                    onclick="exclusivoCompliance('compliance_stakeholders_politicas_peps_sips')" 
                    data-lang-es="Stakeholders + Políticas + Peps y Sips" 
                    data-lang-en="Stakeholders + Policies + Peps and Sips">
                <span data-lang-es="Stakeholders + Políticas + Peps y Sips" data-lang-en="Stakeholders + Policies + Peps and Sips">Stakeholders + Políticas + Peps y Sips</span>
            </label><br>
        </fieldset><br>
        

        <script>
            function verificarRestricciones() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();

                const complianceIds = [
                    "compliance_onlycompany_politicas",
                    "compliance_stakeholders",
                    "compliance_stakeholders_politicas",
                    "compliance_stakeholders_peps_y_sips",
                    "compliance_stakeholders_politicas_peps_sips"
                ];

                // Habilitar/deshabilitar checkboxes según el nivel seleccionado
                if (nivel === "basic" || nivel === "elementary") {
                    complianceIds.forEach(id => {
                        const checkbox = document.getElementById(id);
                        checkbox.checked = false; // Desmarcar
                        checkbox.disabled = true; // Deshabilitar
                    });
                } else {
                    complianceIds.forEach(id => {
                        const checkbox = document.getElementById(id);
                        checkbox.disabled = false; // Habilitar
                    });
                }
            }

            function exclusivoCompliance(seleccionadoId) {
                const ids = [
                    "compliance_onlycompany",
                    "compliance_onlycompany_politicas",
                    "compliance_stakeholders",
                    "compliance_stakeholders_politicas",
                    "compliance_stakeholders_peps_y_sips",
                    "compliance_stakeholders_politicas_peps_sips"
                ];

                ids.forEach(id => {
                    if (id !== seleccionadoId) {
                        document.getElementById(id).checked = false; // Desmarcar
                    }
                });
            }

                // Escuchar cambios en el selector de nivel
                document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestricciones);
            </script>


        <!-- Riesgo Newsclipping y Geopolítico (sin restricciones) -->
        <fieldset>
            <legend data-lang-es="Riesgo Newsclipping y Geopolítico" data-lang-en="Newsclipping and Geopolitical Risk">Riesgo Newsclipping y Geopolítico</legend>
        
            <label>
                <input type="checkbox" id="newsclipping" name="servicios" value="Newsclipping" 
                    data-lang-es="Newsclipping" 
                    data-lang-en="Newsclipping">
                <span data-lang-es="Newsclipping" data-lang-en="Newsclipping">Newsclipping</span>
            </label><br>
        
            <label>
                <input type="checkbox" id="geopolitico" name="servicios" value="Geopolitico" 
                    data-lang-es="Geopolítico" 
                    data-lang-en="Geopolitical">
                <span data-lang-es="Geopolítico" data-lang-en="Geopolitical">Geopolítico</span>
            </label><br>
        </fieldset><br>
        

        <!-- Información General -->
        <fieldset>
            <legend data-lang-es="Información General Adicional" data-lang-en="Additional General Information">Información General Adicional</legend>
        

            <label 
            data-lang-title-es="Recopila información detallada sobre los centros de producción de la compañía, incluyendo su nombre, los productos o equipos que fabrican, tamaño en m², ubicación, y datos de contacto como dirección, país, teléfono y correo electrónico."
            data-lang-title-en="Collects detailed information about the company's production facilities, including their name, the products or equipment they manufacture, size in m², location, and contact details such as address, country, phone number, and email.">

                <input type="checkbox" name="servicios" value="Centros" 
                    data-lang-es="Centros" 
                    data-lang-en="Centers">
                <span data-lang-es="Centros" data-lang-en="Centers">Centros</span>
            </label><br>

            <label 
            data-lang-title-es="Recopila información de contacto específica de la persona responsable de gestionar los procesos de licitaciones en la empresa, incluyendo nombre, apellidos, cargo, teléfono y correo electrónico."
            data-lang-title-en="Collects specific contact information for the person responsible for managing the company's bidding processes, including their first name, last name, position, phone number, and email address.">
                <input type="checkbox" name="servicios" value="Personas de contacto para licitaciones" 
                    data-lang-es="Personas de contacto para licitaciones" 
                    data-lang-en="Contact persons for bids">
                <span data-lang-es="Personas de contacto para licitaciones" data-lang-en="Contact persons for bids">Personas de contacto para licitaciones</span>
            </label><br>
        </fieldset><br>
        

        <!-- Sección Obligaciones Tributarias -->
        <fieldset>
            <legend data-lang-es="Sección Obligaciones Tributarias" data-lang-en="Tax Obligations Section">Sección Obligaciones Tributarias</legend>
        

            <label 
            data-lang-title-es="Recopila información detallada sobre el cumplimiento fiscal y de seguridad social, respaldada por documentos oficiales. Además, genera alertas automáticas en caso de deudas pendientes o certificados vencidos, asegurando un monitoreo proactivo del estado de cumplimiento."
            data-lang-title-en="Collects detailed information on tax and social security compliance, supported by official documents. Additionally, it generates automatic alerts for outstanding debts or expired certificates, ensuring proactive monitoring of compliance status.">
    
                <input type="checkbox" id="obligaciones_documento" name="servicios" value="Obligaciones Tributarias con documento" 
                    onclick="exclusivoObligaciones('obligaciones_documento')" 
                    data-lang-es="Obligaciones Tributarias con documento" 
                    data-lang-en="Tax Obligations with document">
                <span data-lang-es="Obligaciones Tributarias con documento" data-lang-en="Tax Obligations with document">
                    Obligaciones Tributarias con documento
                </span>
            </label><br>
        
            <label 
            data-lang-title-es="Recopila información sobre el cumplimiento fiscal y de seguridad social de la organización, sin requerir documentos oficiales. Además, genera alertas en caso de deudas pendientes, facilitando un monitoreo ágil del estado de cumplimiento."
            data-lang-title-en="Collects information on the organization's tax and social security compliance without requiring official documents. It also generates alerts for outstanding debts, enabling efficient monitoring of compliance status.">
                <input type="checkbox" id="obligaciones_sin_documento" name="servicios" value="Obligaciones Tributarias sin documento" 
                    onclick="exclusivoObligaciones('obligaciones_sin_documento')" 
                    data-lang-es="Obligaciones Tributarias sin documento" 
                    data-lang-en="Tax Obligations without document">
                <span data-lang-es="Obligaciones Tributarias sin documento" data-lang-en="Tax Obligations without document">
                    Obligaciones Tributarias sin documento
                </span>
            </label><br>
        </fieldset><br>
        

        <script>
            // Función para restringir niveles incompatibles con "Obligaciones Tributarias"
            function verificarRestriccionesObligaciones() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();
        
                const obligacionesDocumentoCheckbox = document.getElementById("obligaciones_documento");
                const obligacionesSinDocumentoCheckbox = document.getElementById("obligaciones_sin_documento");
        
                // Restricciones para niveles Basic, Elementary y Digital
                if (["basic", "elementary", "digital"].includes(nivel)) {
                    obligacionesDocumentoCheckbox.checked = false;
                    obligacionesSinDocumentoCheckbox.checked = false;
        
                    obligacionesDocumentoCheckbox.disabled = true;
                    obligacionesSinDocumentoCheckbox.disabled = true;
        
                    // Mensaje dinámico según idioma seleccionado
                    const idiomaSeleccionado = document.getElementById("language-selector").value;
                    const alertMessage =
                        idiomaSeleccionado === "es"
                            ? "Obligaciones Tributarias con documento y sin documento no están disponibles para niveles Basic, Elementary o Digital."
                            : "Tax Obligations with document and without document are not available for Basic, Elementary, or Digital levels.";
                    alert(alertMessage);
                } else {
                    obligacionesDocumentoCheckbox.disabled = false;
                    obligacionesSinDocumentoCheckbox.disabled = false;
                }
            }
        
            // Lógica de exclusión mutua para Obligaciones Tributarias
            function exclusivoObligaciones(seleccionadoId) {
                const ids = ["obligaciones_documento", "obligaciones_sin_documento"];
        
                ids.forEach(id => {
                    if (id !== seleccionadoId) {
                        document.getElementById(id).checked = false;
                    }
                });
            }
        
            // Escuchar cambios en el selector de nivel y aplicar restricciones
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesObligaciones);
        </script>
        

        <!-- Sección Términos y Condiciones -->
        <fieldset>
            <legend data-lang-es="Sección Términos y Condiciones" data-lang-en="Terms and Conditions Section">
                Sección Términos y Condiciones
            </legend>

            <label 
                data-lang-title-es="Se le solicita al proveedor aceptar los términos y condiciones de GoSupply, así como los del cliente."
                data-lang-title-en="The supplier is required to accept GoSupply's terms and conditions, as well as the client's">
                <input type="checkbox" id="terminos_condiciones" name="servicios" value="Términos y Condiciones" 
                    onclick="validarTerminos()" 
                    data-lang-es="Términos y Condiciones" 
                    data-lang-en="Terms and Conditions">
                <span data-lang-es="Términos y Condiciones" data-lang-en="Terms and Conditions">
                    Términos y Condiciones
                </span>
            </label><br>
        </fieldset><br>

        <script>
            function verificarRestriccionesNivel() {
                // Obtener el nivel seleccionado
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();

                // Referencia al checkbox de Términos y Condiciones
                const terminosCheckbox = document.getElementById("terminos_condiciones");

                // Validar si el nivel es Digital
                if (nivel === "digital") {
                    terminosCheckbox.checked = false; // Desmarcar el checkbox
                    terminosCheckbox.disabled = true; // Deshabilitar el checkbox
                } else {
                    terminosCheckbox.disabled = false; // Habilitar para otros niveles
                }
            }

            // Escuchar cambios en el selector de nivel
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesNivel);

            // Ejecutar al cargar la página
            window.addEventListener("DOMContentLoaded", verificarRestriccionesNivel);
        </script>


        <!-- Sección Observaciones -->
        <fieldset>
            <legend data-lang-es="Sección Observaciones" data-lang-en="Observations Section">Sección Observaciones</legend>

            <!-- Observaciones -->
            <label 
                data-lang-title-es="Permite a los proveedores añadir información o explicaciones adicionales que no estén contempladas en el cuestionario."
                data-lang-title-en="Allows suppliers to add additional information or explanations not covered in the questionnaire.">
                <input type="checkbox" id="observaciones" name="servicios" value="Observaciones" 
                    checked 
                    data-lang-es="Observaciones" 
                    data-lang-en="Observations">
                <span data-lang-es="Observaciones" data-lang-en="Observations">Observaciones</span>
            </label>
            <input type="hidden" name="servicios" value="Observaciones" id="hidden_observaciones"><br>
        </fieldset><br>

        <script>
            function verificarRestriccionesObservaciones() {
                const nivel = document.getElementById("nivel_cuestionario").value.toLowerCase();

                // Referencias al checkbox y al campo oculto de Observaciones
                const observacionesCheckbox = document.getElementById("observaciones");
                const hiddenObservaciones = document.getElementById("hidden_observaciones");

                // Si el nivel es "digital", deshabilitar Observaciones
                if (nivel === "digital") {
                    observacionesCheckbox.checked = false; // Desmarcar si está seleccionado
                    observacionesCheckbox.disabled = true; // Deshabilitar el checkbox
                    hiddenObservaciones.disabled = true; // Deshabilitar el campo oculto
                } else {
                    observacionesCheckbox.disabled = false; // Habilitar el checkbox
                    hiddenObservaciones.disabled = false; // Habilitar el campo oculto
                }
            }

            // Ejecutar la función al cambiar el nivel y al cargar la página
            document.getElementById("nivel_cuestionario").addEventListener("change", verificarRestriccionesObservaciones);
            window.addEventListener("DOMContentLoaded", verificarRestriccionesObservaciones);
        </script>
           
            
    <!-- Botones para resumen y envío -->
    <div class="text-center mt-4">
        <button type="button" class="btn btn-info me-3" onclick="mostrarResumen()" 
            data-lang-es="Ver Resumen" 
            data-lang-en="View Summary">
            Ver Resumen
        </button>
        <button type="submit" class="btn btn-success" 
            data-lang-es="Enviar" 
            data-lang-en="Submit">
            Enviar
        </button>
    </div>

    <!-- Sección de Resumen -->
    <div id="resumen" class="bg-light border rounded p-4 mt-4" style="display: none;">
        <h2 class="text-center" data-lang-es="Resumen de Selección" data-lang-en="Selection Summary">Resumen de Selección</h2>
        <p class="mt-3">
            <strong data-lang-es="Nivel Seleccionado:" data-lang-en="Selected Level:">Nivel Seleccionado:</strong> 
            <span id="nivelSeleccionado"></span>
        </p>
        <hr>
        <p><strong data-lang-es="Servicios Seleccionados:" data-lang-en="Selected Services:">Servicios Seleccionados:</strong></p>
        <ul id="detallesResumen" class="ps-3"></ul>
    </div>

        
        <p><strong data-lang-es="Nombre del cliente:" data-lang-en="Client Name:">Nombre del cliente:</strong> 
            <span id="nombreClienteResumen"></span>
        </p>
        <p><strong data-lang-es="Liderado por:" data-lang-en="Led by:">Liderado por:</strong> 
            <span id="lideradoPorResumen"></span>
        </p>
        <p><strong data-lang-es="Fecha de generación:" data-lang-en="Generation Date:">Fecha de generación:</strong> 
            <span id="fechaGeneracion"></span>
        </p>
        

    </div>
        <script>
        function mostrarResumen() {
            try {
                // Obtener el nivel seleccionado
                const nivelInput = document.getElementById("nivel_cuestionario");
                if (!nivelInput) {
                    console.error("Elemento 'nivel_cuestionario' no encontrado");
                    return;
                }
                const nivel = nivelInput.value.toLowerCase();
                document.getElementById("nivelSeleccionado").textContent = nivel;

                // Obtener el nombre del cliente y líder
                const nombreCliente = document.getElementById("nombre_cliente")?.value || "N/A";
                const lideradoPor = document.getElementById("liderado_por")?.value || "N/A";

                // Mostrar el nombre del cliente y líder en el resumen
                const nombreClienteResumen = document.getElementById("nombreClienteResumen");
                const lideradoPorResumen = document.getElementById("lideradoPorResumen");
                if (nombreClienteResumen && lideradoPorResumen) {
                    nombreClienteResumen.textContent = nombreCliente;
                    lideradoPorResumen.textContent = lideradoPor;
                }

                // Agregar la fecha de generación del resumen
                const fechaActual = new Date();
                const fechaFormateada = `${fechaActual.getDate()}/${fechaActual.getMonth() + 1}/${fechaActual.getFullYear()} ${fechaActual.getHours()}:${fechaActual.getMinutes()}`;
                const fechaGeneracion = document.getElementById("fechaGeneracion");
                if (fechaGeneracion) {
                    fechaGeneracion.textContent = fechaFormateada;
                }

                // Servicios fijos por nivel
                const serviciosPorNivel = {
                    "360": ["Datos Generales", "Datos de contacto", "Número de registro / Información fiscal", "Sector de actividad", "Centros", "Términos y Condiciones", "Configuración IT"],
                    "180": ["Datos Generales", "Datos de contacto", "Número de registro / Información fiscal", "Sector de actividad", "Centros", "Términos y Condiciones", "Configuración IT"],
                    "basic": ["Datos Generales", "Datos de contacto", "Número de registro / Información fiscal", "Sector de actividad", "Centros", "Términos y Condiciones", "Configuración IT"],
                    "elementary": ["Datos Generales", "Datos de contacto", "Número de registro / Información fiscal", "Sector de actividad", "Centros", "Términos y Condiciones", "Configuración IT"],
                    "digital": ["Datos Generales", "Número de registro / Información fiscal", "Sector de actividad", "Configuración IT"]
                };

                // Validar si el nivel es válido
                if (!serviciosPorNivel[nivel]) {
                    alert("Nivel no válido seleccionado.");
                    return;
                }

                // Obtener los servicios seleccionados visibles (checkboxes seleccionados)
                const seleccionadosVisibles = Array.from(document.querySelectorAll('input[name="servicios"]:checked'))
                    .map(checkbox => checkbox.value);

                // Obtener los servicios seleccionados ocultos (inputs hidden)
                const seleccionadosOcultos = Array.from(document.querySelectorAll('input[type="hidden"][name="servicios"]'))
                    .map(input => input.value);

                // Combinar servicios visibles, ocultos, y los fijos según el nivel
                const seleccionados = [...seleccionadosVisibles, ...seleccionadosOcultos, ...(serviciosPorNivel[nivel] || [])];

                // Eliminar duplicados (por si algún servicio fijo ya está seleccionado)
                const serviciosUnicos = [...new Set(seleccionados)];

                // Referencia a la lista de servicios
                const detallesResumen = document.getElementById("detallesResumen");
                if (!detallesResumen) {
                    console.error("Elemento 'detallesResumen' no encontrado");
                    return;
                }
                detallesResumen.innerHTML = ""; // Limpiar lista previa

                if (serviciosUnicos.length > 0) {
                    // Crear una lista de servicios seleccionados
                    serviciosUnicos.forEach(servicio => {
                        const li = document.createElement("li");
                        li.textContent = servicio;
                        detallesResumen.appendChild(li);
                    });
                } else {
                    const li = document.createElement("li");
                    li.textContent = document.getElementById("language-selector")?.value === "es" 
                        ? "No se ha seleccionado ningún servicio." 
                        : "No service has been selected.";
                    detallesResumen.appendChild(li);
                }

                // Mostrar el resumen
                const resumenDiv = document.getElementById("resumen");
                if (resumenDiv) {
                    resumenDiv.style.display = "block";
                }
            } catch (error) {
                console.error("Error al mostrar el resumen:", error);
            }
        }

   
        function initializeLanguage() {
            const selectedLanguage = document.getElementById("language-selector")?.value || "es";

            // Cambiar textos dinámicamente
            document.querySelectorAll("[data-lang-es]").forEach(element => {
                element.textContent = element.getAttribute(`data-lang-${selectedLanguage}`);
            });

            // Cambiar tooltips dinámicamente
            document.querySelectorAll("[data-lang-title-es]").forEach(element => {
                const titleText = element.getAttribute(`data-lang-title-${selectedLanguage}`);
                if (titleText) {
                    element.setAttribute("title", titleText); // Cambiar el atributo 'title'
                }
            });

            console.log(`Idioma inicializado: ${selectedLanguage}`);
        }

        function changeLanguage() {
            try {
                const selectedLanguage = document.getElementById("language-selector")?.value;

                // Cambiar textos dinámicamente
                document.querySelectorAll("[data-lang-es]").forEach(element => {
                    element.textContent = element.getAttribute(`data-lang-${selectedLanguage}`);
                });

                // Cambiar tooltips dinámicamente
                document.querySelectorAll("[data-lang-title-es]").forEach(element => {
                    const titleText = element.getAttribute(`data-lang-title-${selectedLanguage}`);
                    if (titleText) {
                        element.setAttribute("title", titleText); // Cambiar el atributo 'title'
                    }
                });

                // Cambiar texto del resumen si ya está visible
                if (document.getElementById("resumen").style.display === "block") {
                    mostrarResumen(); // Volver a mostrar el resumen con el idioma actualizado
                }
            } catch (error) {
                console.error("Error al cambiar el idioma:", error);
            }
        }

        // Ejecutar al cargar la página
        window.addEventListener("DOMContentLoaded", initializeLanguage);
    </script>


</form>

</body>
</html>
